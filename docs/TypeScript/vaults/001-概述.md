# 概述

[[TOC]]

## 概述

TypeScript 可以被视为 JavaScript 的语法超集，即在 JavaScript 的基础上进行了扩展，其中最显著的扩展是引入了静态类型。

所有的 JavaScript 脚本都是合法的 TypeScript 脚本，但可能会因为 TypeScript 的类型系统而出现类型错误。

默认情况下，即便存在类型错误，TypeScript 仍然可以编译为 JavaScript 脚本。这意味着默认情况下，所有的类型错误都只是警告级别的错误。

这种特性方便旧的 JavaScript 项目逐步迁移为 TypeScript 项目，而无需一次性全部完成。



## 类型

类型是一种人为添加的编程约束和语法提示，是一组具有相同特征的值。

如果某些字面量具有相同的类型，那么它们就可以调用该类型的所有方法，并使用其通用的 API。

类型在软件开发过程中为编辑器和开发工具提供更多的编程信息，帮助它们提供代码提示和自动补全，从而提高代码质量并减少错误。

JavaScript 是动态类型语言：

1. 变量的类型是动态的，随时可以改变。
2. 对象的结构也是动态的，可以随时新增或删除属性。

```javascript
// 例一
let x = 1;
x = 'hello';

// 例二
let y = { foo: 1 };
delete y.foo;
y.bar = 2;
```

TypeScript 引入了一个更强大、更严格的类型系统，属于静态类型语言。

```typescript
// 例一
let x = 1;
x = 'hello'; // 报错 => 变量的类型是静态的

// 例二
let y = { foo: 1 };
delete y.foo; // 报错 => 对象的结构即对象的属性也是静态的
y.bar = 2; // 报错
```

TypeScript 引入了静态类型系统，静态类型具有很强的代码约束性，可以在编写阶段确定类型，因为类型是不可改变的。

动态类型没有这种约束，许多类型只有在运行时才会被确定，因此许多错误只有在运行阶段才会被发现。

因此TypeScript可以通过静态分析可以更早地识别错误，避免运行时出错。同时，静态类型系统还可以充当部分文档的功能，提供代码自动补全和代码提示，帮助开发者了解代码的含义和使用方法。



### 静态类型的优点

1. 有助于代码静态分析，可以尽早发现错误。
   - 在 TypeScript 中，静态类型通过类型标注进行描述，编译阶段即可确定变量的类型。在运行过程中，变量的类型不再改变。
   - 因此，可以在编写代码时就确定变量的类型，实现不运行代码即可推断代码是否有误，这就是静态分析。
2. 提供更好的 IDE 支持，帮助实现语法提示和代码自动补全。
3. 类型信息可以部分替代代码文档，解释如何使用代码。
   - 借助类型信息，许多工具能够直接生成文档。
4. 有助于代码重构。
   - 静态类型提供更多的类型信息，帮助开发者更好地理解和修改代码。
   - 通过明确的类型约束，开发者可以更容易地进行代码重构，确保输入和输出的一致性，减少错误。



### 静态类型的缺点

1. 丧失了动态类型的代码灵活性。
2. 引入了独立的编译步骤。
   - TypeScript 代码需要转换为 JavaScript 才能运行。
3. 增加了编程工作量。
4. 需要更高的学习成本。
5. 兼容性问题。
   - TypeScript 依赖 JavaScript 生态，需要使用许多外部模块。
   - 但有些 JavaScript 项目没有做 TypeScript 适配，需要手动进行类型适配。